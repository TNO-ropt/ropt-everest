{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"<code>ropt-everest</code>","text":"<p>The <code>ropt-everest</code> plugin extends <code>ropt</code> with functionality specific to Everest. It primarily offers two key features:</p> <ol> <li>Enhanced Reporting: It generates tables containing optimization results,    which are saved to disk after each batch evaluation.</li> <li>Custom Workflow Implementation: It provides the ability to load custom    Python code to override the default optimization workflow.</li> </ol>"},{"location":"reference/reference/","title":"Reference","text":""},{"location":"reference/reference/#ropt_everest.load_config","title":"ropt_everest.load_config","text":"<pre><code>load_config(config_file: str) -&gt; dict[str, Any]\n</code></pre> <p>Loads an Everest configuration from a YAML file.</p> <p>This function reads an Everest configuration specified by the <code>config_file</code> path, parses it, and returns it as a Python dictionary.</p> <p>Parameters:</p> Name Type Description Default <code>config_file</code> <code>str</code> <p>The path to the Everest configuration YAML file.</p> required <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>A dictionary representing the Everest configuration.</p>"},{"location":"reference/reference/#ropt_everest.create_optimizer","title":"ropt_everest.create_optimizer","text":"<pre><code>create_optimizer(evaluator: Evaluator) -&gt; EverestOptimizer\n</code></pre> <p>Creates an optimizer.</p> <p>This function returns an <code>EverestOptimizer</code> object, which you can execute using its <code>run</code> method.</p> <p>Returns:</p> Type Description <code>EverestOptimizer</code> <p>An <code>EverestOptimizer</code> object, representing the added optimizer.</p>"},{"location":"reference/reference/#ropt_everest.create_ensemble_evaluator","title":"ropt_everest.create_ensemble_evaluator","text":"<pre><code>create_ensemble_evaluator(\n    evaluator: Evaluator,\n) -&gt; EverestEnsembleEvaluator\n</code></pre> <p>Create an ensemble evaluator.</p> <p>Invoking this function returns an <code>EverestEnsembleEvaluator</code> object, which you can execute using its <code>run</code> method.</p> <p>Returns:</p> Type Description <code>EverestEnsembleEvaluator</code> <p>An <code>EverestEnsembleEvaluator</code> object, representing the added evaluator.</p>"},{"location":"reference/reference/#ropt_everest.run_everest","title":"ropt_everest.run_everest","text":"<pre><code>run_everest(\n    config_file: str,\n    *,\n    script: Path | str | None = None,\n    report_exit_code: bool = True,\n) -&gt; EverestExitCode\n</code></pre> <p>Runs an Everest optimization directly from a configuration file.</p> <p>This function provides a convenient way to execute an Everest optimization workflow without having to use the <code>everest</code> command. This method will run a full optimization, but it will not produce the usual monitoring output of Everest.</p> <p>Using this method instead of the <code>everest</code> command-line tool offers several advantages, including:</p> <ul> <li>Direct access to standard output (stdout): Unlike the <code>everest</code>     command, this does not redirect standard output.</li> <li>Error traces: If errors occur during the optimization, you'll get a     full Python stack trace, making debugging easier.</li> <li>Exceptional exit conditions, such as maximum number batch reached, or     a user abort are reported, if <code>report_exit_code</code> is set (the default).</li> </ul> <p>The optional <code>script</code> argument is used to define a custom script that runs the optimization. If the file named by <code>script</code> does not exists, the argument is ignored and the default optimization workflow is run.</p> <p>Parameters:</p> Name Type Description Default <code>config_file</code> <code>str</code> <p>The path to the Everest configuration file (YAML).</p> required <code>script</code> <code>Path | str | None</code> <p>Optional script to replace the default optimization.</p> <code>None</code> <code>report_exit_code</code> <code>bool</code> <p>If <code>True</code>, report the exit code.</p> <code>True</code> <p>Returns:</p> Type Description <code>EverestExitCode</code> <p>The Everest exit code.</p>"},{"location":"reference/reference/#ropt_everest.EverestOptimizer","title":"ropt_everest.EverestOptimizer","text":"<p>               Bases: <code>HandlerMixin</code>, <code>DefaultOptimizerComputeStep</code></p> <p>The Everest optimizer class.</p> <p>This  class executes an optimization via the default Everest code path. An <code>EverestOptimizer</code> object is most conveniently created via the <code>create_optimizer</code> function.</p> <p>Call <code>run</code> method to execute the optimizer. Refer the the documentation of the <code>HandlerMixin</code> class for more information on methods that are used to add event handlers to an optimizer.</p>"},{"location":"reference/reference/#ropt_everest.EverestOptimizer.__init__","title":"__init__","text":"<pre><code>__init__(*, evaluator: Evaluator) -&gt; None\n</code></pre> <p>Initialize an Everest optimizer.</p> <p>Parameters:</p> Name Type Description Default <code>evaluator</code> <code>Evaluator</code> <p>The evaluator object to run function evaluations.</p> required"},{"location":"reference/reference/#ropt_everest.EverestOptimizer.run","title":"run","text":"<pre><code>run(\n    config: dict[str, Any],\n    *,\n    controls: ArrayLike | None = None,\n    metadata: dict[str, Any] | None = None,\n    output_dir: str | None = None,\n) -&gt; ExitCode\n</code></pre> <p>Runs the optimizer.</p> <p>This method executes the optimizer with the given parameters.</p> <p>config: The <code>config</code> dictionary should be a dictionary that can be validated as an <code>EverestConfig</code> object.</p> <p>controls: If no controls are provided, the optimizer will use the initial values from the configuration.</p> <p>metadata: The <code>metadata</code> parameter allows you to associate arbitrary data with each result generated by the evaluator. This metadata is included in generated tables and data frames. The keys in the <code>metadata</code> dictionary are used as column names in the output tables.</p> <p>optimization_output: Normally, the optimizer's output is directed to the <code>optimization_output</code> subdirectory within the main output directory specified in the Everest configuration. When multiple optimization or ensemble evaluation steps are executed, there's a risk of output files being overwritten. The <code>output_dir</code> argument provides a way to override the default output location. You can specify an absolute path, or a relative path, which will be interpreted as relative to the <code>optimization_output</code> directory.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>dict[str, Any]</code> <p>An optional dictionary containing the Everest         configuration. If omitted, the default configuration is         used.</p> required <code>controls</code> <code>ArrayLike | None</code> <p>An array-like object containing the controls for the optimization.</p> <code>None</code> <code>metadata</code> <code>dict[str, Any] | None</code> <p>An optional dictionary of metadata to associate with the         results.</p> <code>None</code> <code>output_dir</code> <code>str | None</code> <p>An optional output directory.</p> <code>None</code>"},{"location":"reference/reference/#ropt_everest.EverestEnsembleEvaluator","title":"ropt_everest.EverestEnsembleEvaluator","text":"<p>               Bases: <code>HandlerMixin</code>, <code>DefaultEnsembleEvaluatorComputeStep</code></p> <p>The Everest ensemble evaluator class.</p> <p>This  class evaluates an ensemble for one or more control values via the default Everest code path. An <code>EverestEnsembleEvaluator</code> object is most conveniently created via the <code>create_ensemble_evaluator</code> function.</p> <p>Call <code>run</code> method to execute the evaluator. Refer the the documentation of the <code>HandlerMixin</code> class for more information on methods that are used to add event handlers to an ensemble evaluator.</p>"},{"location":"reference/reference/#ropt_everest.EverestEnsembleEvaluator.__init__","title":"__init__","text":"<pre><code>__init__(*, evaluator: Evaluator) -&gt; None\n</code></pre> <p>Initialize a default optimizer.</p> <p>Parameters:</p> Name Type Description Default <code>evaluator</code> <code>Evaluator</code> <p>The evaluator object to run function evaluations.</p> required"},{"location":"reference/reference/#ropt_everest.EverestEnsembleEvaluator.run","title":"run","text":"<pre><code>run(\n    config: dict[str, Any],\n    *,\n    controls: ArrayLike | None = None,\n    metadata: dict[str, Any] | None = None,\n    output_dir: str | None = None,\n) -&gt; ExitCode\n</code></pre> <p>Runs the ensemble evaluator.</p> <p>This method executes the underlying ensemble evaluator with the given parameters:</p> <p>config: The <code>config</code> dictionary should be a dictionary that can be validated as an <code>EverestConfig</code> object.</p> <p>controls: The <code>controls</code> parameter can be a single vector, a sequence of multiple vectors, or a 2D matrix where the control vectors are the rows. If no controls are provided, the evaluator will use the initial values from the configuration.</p> <p>metadata: The <code>metadata</code> parameter allows you to associate arbitrary data with each result generated by the evaluator. This metadata is included in generated tables and data frames. The keys in the <code>metadata</code> dictionary are used as column names in the output tables.</p> <p>optimization_output: Normally, the optimizer's output is directed to the <code>optimization_output</code> subdirectory within the main output directory specified in the Everest configuration. When multiple optimization or ensemble evaluation steps are executed, there's a risk of output files being overwritten. The <code>output_dir</code> argument provides a way to override the default output location. You can specify an absolute path, or a relative path, which will be interpreted as relative to the <code>optimization_output</code> directory.</p> <p>Parameters:</p> Name Type Description Default <code>config</code> <code>dict[str, Any]</code> <p>An optional dictionary containing the Everest         configuration. If omitted, the default configuration is         used.</p> required <code>controls</code> <code>ArrayLike | None</code> <p>An array-like object containing the controls to evaluate.</p> <code>None</code> <code>metadata</code> <code>dict[str, Any] | None</code> <p>An optional dictionary of metadata to associate with the         results.</p> <code>None</code> <code>output_dir</code> <code>str | None</code> <p>An optional output directory.</p> <code>None</code>"},{"location":"reference/reference/#ropt_everest.HandlerMixin","title":"ropt_everest.HandlerMixin","text":"<p>Mixin class for adding event handlers to an optimizer or ensemble evaluator.</p>"},{"location":"reference/reference/#ropt_everest.HandlerMixin.add_tracker","title":"add_tracker","text":"<pre><code>add_tracker(\n    *,\n    what: Literal[\"best\", \"last\"] = \"best\",\n    constraint_tolerance: float | None = None,\n) -&gt; EverestTracker\n</code></pre> <p>Adds a tracker to the optimizer or ensemble evaluator.</p> <p>Trackers monitor the progress of the optimization or evaluation and record relevant results. They provide a way to capture and analyze the outcomes of during the execution of the workflow. You can configure a tracker to save the best or the last results generated.</p> <p>Invoking this method returns an <code>EverestTracker</code> object, which provides various methods to access the tracked results.</p> <p>A tracker is configured by the following arguments:</p> <p>what: This argument determines which results the tracker should record. You can choose from the following options:</p> <ul> <li><code>\"best\"</code>: Only the best result found so far is tracked.</li> <li><code>\"last\"</code>: Only the most recently generated result is tracked.</li> </ul> <p>The default value is <code>\"best\"</code>.</p> <p>constraint_tolerance: This optional argument specifies the tolerance for constraint satisfaction. It is used to determine whether a result is considered feasible, meaning it satisfies the defined constraints within the specified tolerance. Only feasible results will be recorded. If it is not set, constraints are not tested.</p> <p>Parameters:</p> Name Type Description Default <code>what</code> <code>Literal['best', 'last']</code> <p>Which results to track (\"best\" or \"last\").</p> <code>'best'</code> <code>constraint_tolerance</code> <code>float | None</code> <p>Tolerance for constraint satisfaction.</p> <code>None</code> <p>Returns:</p> Type Description <code>EverestTracker</code> <p>An <code>EverestTracker</code> object.</p>"},{"location":"reference/reference/#ropt_everest.HandlerMixin.add_store","title":"add_store","text":"<pre><code>add_store() -&gt; EverestStore\n</code></pre> <p>Adds a results store to the optimizer or ensemble evaluator.</p> <p>Stores the results of the optimization or evaluation.</p> <p>Invoking this method returns an <code>EverestStore</code> object, which provides various methods to access the stored results.</p> <p>Returns:</p> Type Description <code>EverestStore</code> <p>An <code>EverestStore</code> object.</p>"},{"location":"reference/reference/#ropt_everest.HandlerMixin.add_table","title":"add_table","text":"<pre><code>add_table(\n    table: EventHandler | None = None,\n) -&gt; EventHandler\n</code></pre> <p>Adds an event handler that creates a table with results on disk.</p> <p>This event handler will monitor the progress of the optimization or evaluation and record relevant results. A set of tables will then be generated and saved in the output directory.</p> <p>Parameters:</p> Name Type Description Default <code>table</code> <code>EventHandler | None</code> <p>Optional existing table to add, if <code>None</code> a new table is created.</p> <code>None</code> Note <p>This requires that the <code>everest-table</code> plugin for <code>ropt</code> is installed. If it is not installed, this method will do nothing and return <code>None</code>. In this case, no tables will be generated.</p> <p>Returns:</p> Type Description <code>EventHandler</code> <p>An <code>EverestTableHandler</code> object.</p>"},{"location":"reference/reference/#ropt_everest.EverestTracker","title":"ropt_everest.EverestTracker","text":"<p>               Bases: <code>DefaultTrackerHandler</code></p> <p>Provides access to the results generated by optimizers and evaluators.</p> <p>This class provides methods to retrieve and analyze the results tracked by a tracker within an Everest workflow. It allows you to access the results. You can also convert the tracked results into a Pandas DataFrame for easier analysis.</p> <p>The tracker can keep track of the best, the last, or all the results. The tracker can also be set to only keep track of the feasible results.</p>"},{"location":"reference/reference/#ropt_everest.EverestTracker.results","title":"results  <code>property</code>","text":"<pre><code>results: FunctionResults | None\n</code></pre> <p>Retrieves the tracked results.</p> <p>Returns:</p> Type Description <code>FunctionResults | None</code> <p>The tracked results.</p>"},{"location":"reference/reference/#ropt_everest.EverestTracker.controls","title":"controls  <code>property</code>","text":"<pre><code>controls: NDArray[float64] | None\n</code></pre> <p>Retrieves the tracked controls.</p> <p>Returns:</p> Type Description <code>NDArray[float64] | None</code> <p>The tracked controls.</p>"},{"location":"reference/reference/#ropt_everest.EverestTracker.reset","title":"reset","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>Reset the tracker.</p> <p>Clears any results accumulated so far.</p>"},{"location":"reference/reference/#ropt_everest.EverestTracker.dataframe","title":"dataframe","text":"<pre><code>dataframe(kind: str) -&gt; pd.DataFrame | None\n</code></pre> <p>Converts the tracked results to a Pandas DataFrame.</p> <p>This method converts the tracked results into a Pandas DataFrame, making it easier to analyze and visualize the data.</p> <p>The <code>kind</code> argument supports the following options:</p> <ul> <li><code>\"results\"</code>:       For function results.</li> <li><code>\"gradients\"</code>:     For gradient results.</li> <li><code>\"simulations\"</code>:   For simulation results.</li> <li><code>\"perturbations\"</code>: For perturbation results.</li> <li><code>\"constraints\"</code>:   For constraint information.</li> </ul> Note <p>The column names of the dataframe may be strings or tuples of strings. In the tuple form, the name is usually composed of a string indicating the type of column and one or more objective, constraint or control names. For instance, a column containing values of the control <code>point.x</code> may have the name: <code>(controls, point.x)</code>. The gradient of an objective <code>distance</code> with respect to a control <code>point.x</code> may have the column name <code>(objectives, distance, point.x.0)</code>.</p> <p>Parameters:</p> Name Type Description Default <code>kind</code> <code>str</code> <p>The type of table to create.</p> required <p>Returns:</p> Type Description <code>DataFrame | None</code> <p>A Pandas DataFrame containing the tracked results, or None.</p>"},{"location":"reference/reference/#ropt_everest.EverestStore","title":"ropt_everest.EverestStore","text":"<p>               Bases: <code>DefaultStoreHandler</code></p> <p>Provides access to the results generated by optimizers and evaluators.</p> <p>This class provides methods to retrieve and analyze the results produced within an Everest workflow. It allows you to access the results. You can also convert the stored results into a Pandas DataFrame for easier analysis.</p>"},{"location":"reference/reference/#ropt_everest.EverestStore.results","title":"results  <code>property</code>","text":"<pre><code>results: list[Results] | None\n</code></pre> <p>Retrieves the stored results.</p> <p>Returns:</p> Type Description <code>list[Results] | None</code> <p>The stored results.</p>"},{"location":"reference/reference/#ropt_everest.EverestStore.controls","title":"controls  <code>property</code>","text":"<pre><code>controls: NDArray[float64] | list[NDArray[float64]] | None\n</code></pre> <p>Retrieves the stored controls.</p> <p>Returns:</p> Type Description <code>NDArray[float64] | list[NDArray[float64]] | None</code> <p>The stored controls.</p>"},{"location":"reference/reference/#ropt_everest.EverestStore.reset","title":"reset","text":"<pre><code>reset() -&gt; None\n</code></pre> <p>Reset the store.</p> <p>Clears any results accumulated so far.</p>"},{"location":"reference/reference/#ropt_everest.EverestStore.dataframe","title":"dataframe","text":"<pre><code>dataframe(kind: str) -&gt; pd.DataFrame | None\n</code></pre> <p>Converts the stored results to a Pandas DataFrame.</p> <p>This method converts the tracked results into a Pandas DataFrame, making it easier to analyze and visualize the data.</p> <p>The <code>kind</code> argument supports the following options:</p> <ul> <li><code>\"results\"</code>:       For function results.</li> <li><code>\"gradients\"</code>:     For gradient results.</li> <li><code>\"simulations\"</code>:   For simulation results.</li> <li><code>\"perturbations\"</code>: For perturbation results.</li> <li><code>\"constraints\"</code>:   For constraint information.</li> </ul> Note <p>The column names of the dataframe may be strings or tuples of strings. In the tuple form, the name is usually composed of a string indicating the type of column and one or more objective, constraint or control names. For instance, a column containing values of the control <code>point.x</code> may have the name: <code>(controls, point.x)</code>. The gradient of an objective <code>distance</code> with respect to a control <code>point.x</code> may have the column name <code>(objectives, distance, point.x.0)</code>.</p> <p>Parameters:</p> Name Type Description Default <code>kind</code> <code>str</code> <p>The type of table to create.</p> required <p>Returns:</p> Type Description <code>DataFrame | None</code> <p>A Pandas DataFrame containing the store results, or None.</p>"}]}